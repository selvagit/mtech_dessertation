<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="795px" preserveAspectRatio="none" style="width:1924px;height:795px;" version="1.1" viewBox="0 0 1924 795" width="1924px" zoomAndPan="magnify"><defs><filter height="300%" id="fdri9ylol5lsv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="776.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="1906" x="6" y="8"/><rect fill="#FFFFFF" height="744" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1900" x="9" y="37.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="1912" y1="34.2969" y2="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="942" y="25.9951">ecpri</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="1047.5" y="47.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1047.5" x2="1103.5" y1="73.5938" y2="73.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="1057.5" y="65.292">reset</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="413.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="1121" x="17" y="253.2969"/><rect fill="#FFFFFF" height="381" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1115" x="20" y="282.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="17" x2="1138" y1="279.5938" y2="279.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="551" y="271.292">ecpri_rx</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="377" y="292.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="377" x2="452" y1="318.8906" y2="318.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="387" y="310.5889">reset_rx</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="264" y="395.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="264" x2="339" y1="421.8906" y2="421.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="274" y="413.5889">cpri_hdr</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="28" y="498.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="28" x2="79" y1="524.8906" y2="524.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="38" y="516.5889">read</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="430" y="498.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="430" x2="483" y1="524.8906" y2="524.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="440" y="516.5889">write</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="566.5" y="601.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="566.5" x2="682.5" y1="627.8906" y2="627.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="576.5" y="619.5889">write_to_mem</text><!--link reset_rx to cpri_hdr--><path d="M376.677,321.3135 C329.6914,326.8062 253.608,338.8608 236.5,360.5938 C224.4011,375.9634 240.431,390.8915 259.5949,402.0128 " fill="none" id="reset_rx-cpri_hdr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="263.986,404.4693,258.0845,396.5844,259.6224,402.0282,254.1786,403.5661,263.986,404.4693" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="237.5" y="373.6606">found cpri header</text><!--link cpri_hdr to read--><path d="M263.9764,428.7944 C240.1238,433.8962 208.5605,440.4428 180.5,445.5938 C155.706,450.1452 87.0715,446.5481 68.5,463.5938 C60.2744,471.1436 56.2563,482.4594 54.3847,493.2363 " fill="none" id="cpri_hdr-read" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="53.6293,498.4646,58.8752,490.1291,54.3443,493.5159,50.9574,488.985,53.6293,498.4646" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="69.5" y="476.6606">read flg set / create_pkt, create_read_resp</text><!--link cpri_hdr to write--><path d="M325.7704,445.7806 C337.6663,457.2791 352.6132,470.541 367.5,480.5938 C385.439,492.7077 407.3078,503.3236 424.8784,510.9767 " fill="none" id="cpri_hdr-write" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="429.7134,513.0554,423.0252,505.8257,425.12,511.0804,419.8653,513.1752,429.7134,513.0554" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="368.5" y="476.6606">write flg set</text><!--link write to write_to_mem--><path d="M454.7852,548.7438 C455.3184,560.6521 458.0718,574.2723 466.5,583.5938 C479.4552,597.9221 523.181,609.1556 561.3572,616.5422 " fill="none" id="write-write_to_mem" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="566.4625,617.5138,558.3691,611.9016,561.5507,616.5789,556.8733,619.7605,566.4625,617.5138" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="467.5" y="579.6606">valid memory address</text><!--link write_to_mem to reset_rx--><path d="M625.0265,601.33 C625.6386,548.3019 624.294,427.6438 600.5,395.5938 C566.5342,349.8425 500.5942,330.7388 457.0537,322.8915 " fill="none" id="write_to_mem-reset_rx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="452.1225,322.0335,460.3036,327.5171,457.0485,322.8906,461.675,319.6355,452.1225,322.0335" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="334" x="621.5" y="476.6606">mem write successfull/create_pkt, create_write_resp</text><!--link cpri_hdr to reset_rx--><path d="M330.4001,395.512 C337.0401,389.6721 344.045,383.449 350.5,377.5938 C361.6522,367.4779 373.7352,356.2273 384.3671,346.2269 " fill="none" id="cpri_hdr-reset_rx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="388.214,342.6035,378.9199,345.8624,384.5743,346.0316,384.405,351.6859,388.214,342.6035" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="369.5" y="373.6606">invalid flag</text><!--link read to reset_rx--><path d="M50.0899,498.325 C49.5639,487.3175 50.2825,474.4732 54.5,463.5938 C69.0682,426.0137 80.6293,417.4403 114.5,395.5938 C195.6566,343.2481 310.451,325.9618 371.8433,320.3043 " fill="none" id="read-reset_rx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="376.8924,319.8543,367.5728,316.6692,371.9122,320.2982,368.2832,324.6376,376.8924,319.8543" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="115.5" y="425.1606">invalid payload length</text><!--link write to reset_rx--><path d="M457.7465,498.5533 C458.5813,465.9024 457.3465,407.4335 441.5,360.5938 C440.0063,356.1787 437.9778,351.7531 435.6992,347.5096 " fill="none" id="write-reset_rx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="433.1419,342.9855,434.0884,352.7887,435.6023,347.3382,441.0528,348.8521,433.1419,342.9855" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="457.5" y="425.1606">invalid payload length</text><!--link write_to_mem to reset_rx--><path d="M682.5869,620.7478 C797.816,606.8442 1037.8038,565.0652 960.5,463.5938 C898.4663,382.1665 574.8562,336.4864 457.2635,322.3736 " fill="none" id="write_to_mem-reset_rx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="452.1572,321.7651,460.6206,326.802,457.1221,322.3568,461.5673,318.8582,452.1572,321.7651" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="970.5" y="476.6606">invalid mem address</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="619.2969" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="608" x="1270.5" y="150.2969"/><rect fill="#FFFFFF" height="587" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="602" x="1273.5" y="179.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1270.5" x2="1878.5" y1="176.5938" y2="176.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="1548" y="168.292">ecpri_tx</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="1581.5" y="189.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1581.5" x2="1656.5" y1="215.8906" y2="215.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="1591.5" y="207.5889">reset_tx</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="1640.5" y="292.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1640.5" x2="1713.5" y1="318.8906" y2="318.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="1650.5" y="310.5889">eth_hdr</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="1680" y="395.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1680" x2="1742" y1="421.8906" y2="421.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="1690" y="413.5889">ip_hdr</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="1672.5" y="498.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1672.5" x2="1749.5" y1="524.8906" y2="524.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="1682.5" y="516.5889">udp_hdr</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="1398.5" y="601.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1398.5" x2="1487.5" y1="627.8906" y2="627.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="1408.5" y="619.5889">read_resp</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1618.5" y="601.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1618.5" x2="1709.5" y1="627.8906" y2="627.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1628.5" y="619.5889">write_resp</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="1409.5" y="189.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1409.5" x2="1494.5" y1="215.8906" y2="215.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1419.5" y="207.5889">complete</text><rect fill="#FEFECE" filter="url(#fdri9ylol5lsv)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="1281.5" y="704.5938"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1281.5" x2="1414.5" y1="730.8906" y2="730.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1291.5" y="722.5889">copy_from_mem</text><!--link reset_tx to eth_hdr--><path d="M1633.1884,239.7904 C1641.3336,254.2553 1651.6098,272.5044 1660.1624,287.6926 " fill="none" id="reset_tx-eth_hdr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1662.7571,292.3003,1661.8267,282.4954,1660.3039,287.9435,1654.8558,286.4206,1662.7571,292.3003" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1652" y="270.6606">create_pkt</text><!--link eth_hdr to ip_hdr--><path d="M1685.3173,342.7904 C1690.051,357.1306 1696.0123,375.19 1700.9998,390.2991 " fill="none" id="eth_hdr-ip_hdr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1702.6507,395.3003,1703.6277,385.5,1701.0833,390.5523,1696.031,388.0078,1702.6507,395.3003" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="1697" y="373.6606">create ip header</text><!--link ip_hdr to udp_hdr--><path d="M1711,445.7904 C1711,460.1306 1711,478.19 1711,493.2991 " fill="none" id="ip_hdr-udp_hdr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1711,498.3003,1715,489.3003,1711,493.3003,1707,489.3003,1711,498.3003" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1712" y="476.6606">create udp header</text><!--link udp_hdr to read_resp--><path d="M1672.3167,538.4608 C1624.9931,556.6487 1544.7848,587.475 1492.8693,607.4276 " fill="none" id="udp_hdr-read_resp" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1487.9356,609.3238,1497.7715,609.8288,1492.6028,607.53,1494.9015,602.3613,1487.9356,609.3238" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1595" y="579.6606">create_read_resp</text><!--link udp_hdr to write_resp--><path d="M1725.7257,548.7597 C1730.2389,559.8692 1732.6896,572.8219 1727,583.5938 C1723.6332,589.9681 1718.8495,595.5758 1713.4037,600.4548 " fill="none" id="udp_hdr-write_resp" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1709.5371,603.7165,1718.9955,600.9708,1713.3589,600.4925,1713.8372,594.8559,1709.5371,603.7165" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="1731" y="579.6606">create_write_resp</text><!--link write_resp to complete--><path d="M1618.3321,606.3317 C1608.7717,600.2369 1599.6017,592.6913 1593,583.5938 C1576.9176,561.4312 1579,550.9768 1579,523.5938 C1579,317.5938 1579,317.5938 1579,317.5938 C1579,275.0749 1535.5285,247.0518 1499.4524,231.1167 " fill="none" id="write_resp-complete" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1494.6425,229.0431,1501.3236,236.2794,1499.234,231.0226,1504.4907,228.933,1494.6425,229.0431" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="1580" y="425.1606">send_packet</text><!--link read_resp to copy_from_mem--><path d="M1419.7604,651.7904 C1406.189,666.5046 1389.0059,685.1347 1374.8568,700.4754 " fill="none" id="read_resp-copy_from_mem" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1371.3289,704.3003,1380.3711,700.3965,1374.7188,700.6249,1374.4905,694.9726,1371.3289,704.3003" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="1403" y="682.6606">valid memory</text><!--link read_resp to complete--><path d="M1443,601.1966 C1443,580.3494 1443,550.0591 1443,523.5938 C1443,317.5938 1443,317.5938 1443,317.5938 C1443,293.1032 1445.5564,265.4609 1447.9443,244.9828 " fill="none" id="read_resp-complete" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1448.5461,239.9371,1443.5081,248.3998,1447.9538,244.9018,1451.4518,249.3475,1448.5461,239.9371" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="1444" y="425.1606">invalid memory</text><!--link copy_from_mem to complete--><path d="M1341.8597,704.3661 C1337.3477,683.6172 1332,653.3765 1332,626.5938 C1332,317.5938 1332,317.5938 1332,317.5938 C1332,277.5563 1370.9389,249.7102 1404.4543,233.1579 " fill="none" id="copy_from_mem-complete" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1409.3546,230.7976,1399.5104,231.0995,1404.85,232.9674,1402.9821,238.307,1409.3546,230.7976" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="1333" y="476.6606">copy complete</text><!--link complete to reset_tx--><path d="M1494.5733,214.5938 C1519.564,214.5938 1551.0527,214.5938 1576.0999,214.5938 " fill="none" id="complete-reset_tx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1581.3422,214.5938,1572.3422,210.5938,1576.3422,214.5938,1572.3422,218.5938,1581.3422,214.5938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="1505" y="207.6606">reset_ram</text><!--link reset to ecpri_tx--><path d="M1103.5571,92.4435 C1113.3964,99.5882 1124.4882,107.7327 1134.5,115.2969 C1177.3299,147.6562 1222.1998,182.1205 1266.2272,216.2682 " fill="none" id="reset-ecpri_tx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1270.2112,219.3592,1265.5523,210.6819,1266.2607,216.2943,1260.6484,217.0027,1270.2112,219.3592" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="1147.5" y="128.3638">send response</text><!--link reset to ecpri_rx--><path d="M1047.2985,94.2408 C1006.9711,125.6201 928.6763,186.5423 847.3912,249.7912 " fill="none" id="reset-ecpri_rx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="843.0253,253.1884,852.5847,250.8183,846.9714,250.1178,847.6719,244.5045,843.0253,253.1884" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1015.5" y="128.3638">parse the request</text><!--link ecpri_rx to ecpri_tx--><path d="M1138.097,437.8519 C1179.942,437.9167 1221.5121,438.5116 1261.75,439.7969 C1262.9098,439.8339 1264.072,439.8718 1265.2365,439.9103 " fill="none" id="ecpri_rx-ecpri_tx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1270.3564,440.0843,1261.4975,435.7808,1265.3593,439.9144,1261.2257,443.7762,1270.3564,440.0843" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1170.25" y="429.8638">create_pkt</text><!--link ecpri_rx to ecpri_tx--><path d="M1138.15,481.7344 C1179.8082,481.6675 1221.1898,481.0745 1261.25,479.7969 C1262.5606,479.7551 1263.8742,479.7123 1265.1908,479.6686 " fill="none" id="ecpri_rx-ecpri_tx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1270.2826,479.4952,1261.1517,475.8038,1265.2855,479.6653,1261.4239,483.7991,1270.2826,479.4952" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1148.25" y="475.8638">create_read_resp</text><!--link ecpri_rx to ecpri_tx--><path d="M1138.2891,459.7969 C1181.5393,459.7969 1224.1539,459.7969 1264.8033,459.7969 " fill="none" id="ecpri_rx-ecpri_tx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1270.2665,459.7969,1261.2665,455.7969,1265.2665,459.7969,1261.2665,463.7969,1270.2665,459.7969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="1147.75" y="452.8638">create_write_resp</text><!--
@startuml
state  ecpri {
    state reset

state ecpri_rx {
  reset_rx - -> cpri_hdr : found cpri header
  cpri_hdr - -> read : read flg set / create_pkt, create_read_resp
  cpri_hdr - -> write : write flg set 
  write - -> write_to_mem : valid memory address
  write_to_mem - -> reset_rx : mem write successfull/create_pkt, create_write_resp 
  
  cpri_hdr - -> reset_rx : invalid flag
  read - ->reset_rx : invalid payload length
  write - ->reset_rx : invalid payload length
  write_to_mem - -> reset_rx : invalid mem address
}

state ecpri_tx {
  reset_tx- ->eth_hdr : create_pkt 
  eth_hdr- ->ip_hdr : create ip header
  ip_hdr - -> udp_hdr : create udp header 
  udp_hdr- ->read_resp : create_read_resp
  udp_hdr- ->write_resp : create_write_resp
  write_resp- ->complete : send_packet
  read_resp- ->copy_from_mem: valid memory
  read_resp- ->complete : invalid memory
  copy_from_mem - -> complete : copy complete
  complete -> reset_tx : reset_ram
}

reset- -> ecpri_tx : send response
reset- -> ecpri_rx : parse the request 

ecpri_rx -Right- -> ecpri_tx : create_pkt
ecpri_rx -Right- -> ecpri_tx : create_read_resp
ecpri_rx -Right- -> ecpri_tx : create_write_resp 

}
@enduml

PlantUML version 1.2018.13(Mon Nov 26 22:41:51 IST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Debian-1deb10u1
Operating System: Linux
OS Version: 4.4.0-18362-Microsoft
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>